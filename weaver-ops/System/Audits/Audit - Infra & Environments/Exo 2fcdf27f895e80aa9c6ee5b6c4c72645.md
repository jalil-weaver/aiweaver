# Exo

1. **Context**
    - Client name: Exo
    - Project name: Exo Sport
    - Date: 10-11-2024
    - People involved: Backend/API (Ichsan, Rizky, Irfan) Mobile Apps (Sardi), Devops (Deddy) and Sarah (QA)
2. **Trigger**
- What triggered the start of the Infrastructure ?
    - Client requested new infrastructure setup for Exo Sport Application
    - New project requires infrastructure setup (servers, database, network)
    - Infrastructure setup needed for production environment
    - Client request to deploy Exo Sport application to production
    - New infrastructure setup required due to project scaling up
- Who initiated it?
    - Client Exo
    - Project Manager
    - Tech Lead
    - Director (Megandi)
- Tool used:
    - AWS ALB
    - AWS Ec2
    - Manual Setup by SSH
    - RDSPostgres
    - Cloudfront & S3
    - Cloudwatch & Cloudtrails
    - Amazon SES
    - Amazon SMS EndUser
1. **Chronological Steps (what actually happened)**

**Step 1 (as many as there have been)**

- Action performed:
    - Setup AWS account dan configure IAM roles
    - Create VPC dengan subnets for production environment
    - Setup RDS database instance
    - Configure security groups
    - Deploy application server (Api, Backsite, Admin & Marketing)
    - Setup load balancer for high availability
    - WAF Configure monitoring
    - Setup backup dan disaster recovery
- Who did it:
    - DevOps Team (Deddy)
    - Backend Developer (Ichsan, Irfan, Rizky)
    - Apps Developer (Sardi)
- Tools:
    - AWS Console
    - Github Actions
    - SSH (Termius)
    - VsCode
- Output produced:
    - VPC create [vpc-0f6dd0416f20f7f61](https://eu-west-3.console.aws.amazon.com/vpcconsole/home?region=eu-west-3#VpcDetails:VpcId=vpc-0f6dd0416f20f7f61) 3 subnets di 3 availability zones
- subnet-009d1ee5f227644f8 (eu-west-3a, 172.31.0.0/20)
- subnet-0dc1629ff8b0257fd (eu-west-3b, 172.31.16.0/20)
- subnet-03777b0b26ea33a46 (eu-west-3c, 172.31.32.0/20)
- RDSPostgres for database prod and staging
- exo-live: exo-live.cva40442smrk.eu-west-3.rds.amazonaws.com (production)
- exo-live-analytics: exo-live-analytics.cva40442smrk.eu-west-3.rds.amazonaws.com (analytics)
- exo-beta-stresstest: exo-beta-stresstest.cva40442smrk.eu-west-3.rds.amazonaws.com (staging/stress test)
- EC2

- Exo-Live-API: i-084fd3a30248d0339 (c5.xlarge, running)

- Exo-Live-Backsite: i-0de04ffa4cc00347f (t3.medium, running)

- Exo-Staging: i-07e08c6a82611429f (t3.medium, running)
- Exo-Node-Redis: i-0207e58a5e6ce9fc6 (t3.small, running)
- Metabase-Micro: i-0c098549052fd4169 (t3.micro, running)
- Cloudfront Distribution
- d2bm1ree0vlja.cloudfront.net (Distribution ID: EQWVJ3TLARMOE) live
- d1loidm5hp5ftw.cloudfront.net (Distribution ID: E2J3J454YAQM95) staging
- WAF rule with ID 21373ab1-2ecf-4e6f-b72e-d2c6a6ad9b46
- Security group configured ID sg-00ef9244ed42e3ad6 for API, ID i-0de04ffa4cc00347f for Backsite
- Load balancer created API ID exo-api-live-521273486.eu-west-3.elb.amazonaws.com
- S3 buckets: exo-sport-live, exo-sport-develop, aws-waf-logs-exo-api, waf-exo-api-log
- Amazon SES (enabled): verified identities – exo-sport.fr, habilis.site
- Elastic IPs in use: Exo-Live-API (15.188.209.32), Exo-Live-Backsite (35.181.206.183), Exo-Staging (13.39.145.183), Exo-Node-Redis (13.36.113.235), Metabase-Micro (13.36.232.253)
- Backup & recovery: RDS automated snapshots (exo-live); EC2 AMIs/snapshots for critical instances
- Monitoring & logging: CloudWatch log groups (/aws/sms/exo-otp, RDSOSMetrics); WAF logs to S3 (aws-waf-logs-exo-api, waf-exo-api-log)
1. **Blockers & Frictions**
- What slowed down the process?

Database issues – insufficient database capacity, configuration, or optimization for the workload.

- Resource limitations – AWS or instance-level resource limits (CPU, memory, I/O) affecting performance.
- High load on the API server when app notifications were running – notification traffic caused spikes and slowed the API.
- Where did it block?

At the API server – high CPU and memory usage during notification runs; requests were queued or delayed.

- At the database layer – slow or heavy queries; connection or capacity limits were reached.
- In the application layer (end-user apps) – apps became slow or unresponsive when notifications were running.
- Why?
- Code base optimization – the application code needed optimization to reduce load and improve efficiency.
- Database query – queries were not optimized; inefficient or heavy queries contributed to database and API load.
- Server specification – the instance size or configuration (e.g. API server) was insufficient for peak load; this was later addressed (e.g. API moved to c5.xlarge).
1. **Founder Intervention**
- Did the Director (Megandi) intervene?
    - Yes, but only for final approval about cost usage
- When?
    - Before live apps
- For what reason?
    - Approval budget
    - Resolve blocker from client
1. **Final Deliverables**
- What was delivered to the client?

Complete production infrastructure setup for Exo Sport application (AWS account 	exo-dev, region eu-west-3) with the following components:

**Infrastructure components**

- AWS VPC (vpc-0f6dd0416f20f7f61) with 3 subnets across 3 availability zones:

- subnet-009d1ee5f227644f8 (eu-west-3a)

- subnet-0dc1629ff8b0257fd (eu-west-3b)

- subnet-03777b0b26ea33a46 (eu-west-3c)

- RDS Postgres database instances:

- exo-live (production): exo-live.cva40442smrk.eu-west-3.rds.amazonaws.com

- exo-live-analytics: exo-live-analytics.cva40442smrk.eu-west-			 	3.rds.amazonaws.com

- exo-beta-stresstest (staging/stress): exo-beta-stresstest.cva40442smrk.eu-west-	3.rds.amazonaws.com

- EC2 instances for application and supporting services:

- Exo-Live-API (i-084fd3a30248d0339, c5.xlarge)

- Exo-Live-Backsite (i-0de04ffa4cc00347f, t3.medium)

- Exo-Staging (i-07e08c6a82611429f, t3.medium)

- Exo-Node-Redis (i-0207e58a5e6ce9fc6, t3.small)

- Metabase-Micro (i-0c098549052fd4169, t3.micro)

- Application Load Balancer (ALB) for high availability:

- exo-api-live-521273486.eu-west-3.elb.amazonaws.com (active)

- CloudFront CDN distribution endpoints:

- d2bm1ree0vlja.cloudfront.net

- d1loidm5hp5ftw.cloudfront.net

- S3 buckets:

- exo-sport-live (live application and assets)

- exo-sport-develop (development and build artifacts)

- aws-waf-logs-exo-api (WAF logs)

- waf-exo-api-log (WAF logs)

- WAF (Web Application Firewall): Exo-Api-Live (rule ID 21373ab1-2ecf-4e6f-b72e-	d2c6a6ad9b46)
- Security groups: exo-live (sg-00ef9244ed42e3ad6), default (sg-	08829f29de4df6b01)
- CloudWatch monitoring and CloudTrail logging configured; log groups:	/aws/sms/exo-otp, RDSOSMetrics; WAF logs stored in S3 (aws-waf-logs-exo-api,	waf-exo-api-log)
- Amazon SES (Simple Email Service) for email functionality; verified identities:	exo-sport.fr, habilis.site, exoproduction99@gmail.com
- Amazon SMS service for end-user notifications (OTP)
- Elastic IPs assigned to Exo-Live-API, Exo-Live-Backsite, Exo-Staging, Exo-Node-	Redis, Metabase-Micro
- Backup and disaster recovery: RDS automated snapshots (exo-live); EC2	AMIs/snapshots for critical instances; WAF logs in S3

**Access and credentials**

- AWS account access (exo-dev) with IAM users and roles configured
- Database connection strings for production, analytics, and staging/stress environments
- Server access credentials (SSH keys and access information)
- CloudFront distribution access
- SES and SMS service credentials and configuration
- --

In what format?

- Live infrastructure on AWS (exo-dev, eu-west-3)
- Configuration files: GitHub repository
- --

When?

- Infrastructure start: November 2024
1. **Project Closure**
- What marked the end of the Infrastructure setup?

Transition to BAU (Business as Usual) – setup phase ended when the team moved from “build/deploy” to “maintain and operate”; no explicit “project closed” statement.

- Was it explicit or implicit?

Implicit. there was no formal “project closed” meeting or signed handover document; the setup was considered complete when infrastructure was live, deliverables were handed over, and the team shifted to maintenance. Director approval (cost) was the last formal milestone before go-live.